# ========================================
# FastAPI 高德地图扣子插件 环境配置
# ========================================

# 应用配置
# ---------------------------
# 应用主机地址，默认0.0.0.0（允许外部访问）
APP_HOST=0.0.0.0

# 应用端口，默认8000
APP_PORT=8000
# 基础URL，用于生成完整的访问链接
APP_BASE_URL=http://127.0.0.1:8000
# 数据库文件路径
DB_PATH=/www/coze_plugin/map.db
# MySQL 数据库连接配置 (可选，若配置则覆盖 DB_PATH)
# 格式: mysql+pymysql://用户名:密码@主机地址:端口/数据库名
# 示例: DB_URL=mysql+pymysql://root:password@rm-cn-xx.rds.aliyuncs.com:3306/gaode_deploy
# DB_URL=
# API密钥配置（重要）
# ---------------------------
# API密钥，用于访问鉴权
#
# ⚠️ 重要：生产环境必须修改！
# 密钥要求：
# - 长度至少16位
# - 包含字母、数字和特殊字符
# - 定期更换
API_KEYS=["gaode-map-plugin-2025-dev-only"]

# 文件保留时间（小时）
# 生成的地图页面将在多久后自动删除
# 默认：7天
FILE_LIFETIME_HOURS=168

# 清理任务间隔（小时）
# 每隔多久检查并删除过期文件
# 默认：6小时
CLEANUP_INTERVAL_HOURS=24

# 高德地图API配置
# ---------------------------
# Web 服务（REST API）Key
AMAP_WEB_SERVICE_KEY=

# Web JS API Key（用于前端脚本引入）
AMAP_JS_API_KEY=

# Web JS API 安全码（如未开启可留空）
AMAP_JS_SECURITY_CODE=

# 天地图 Web 瓦片服务 Key（tk）
TIANDITU_KEY=

# 本地历史数据查询服务配置
# ---------------------------
LOCAL_QUERY_BASE_URL=http://127.0.0.1:8001
LOCAL_QUERY_COORD_SYSTEM=gcj02

# 等时圈（Isochrone）配置
# ---------------------------
ISOCHRONE_PROVIDER=valhalla
VALHALLA_BASE_URL=http://127.0.0.1:8002
VALHALLA_TIMEOUT_S=60
# 降低线程数以避免 Windows 下 "Two many open files" 错误
VALHALLA_SERVER_THREADS=2

# ArcGIS HTTP bridge
# ---------------------------
# Enable ArcGIS bridge when use_arcgis=true in H3 analysis request.
ARCGIS_BRIDGE_ENABLED=true
# Bridge service deployed on Windows host.
ARCGIS_BRIDGE_BASE_URL=http://host.docker.internal:18081
# Shared token sent via X-ArcGIS-Token header.
ARCGIS_BRIDGE_TOKEN=
# Request timeout from backend to bridge (seconds).
ARCGIS_BRIDGE_TIMEOUT_S=300

# CORS跨域配置
# ---------------------------
# 允许访问的域名列表（JSON数组格式）
# - 开发环境可以使用: ["*"]（允许所有域名）
# - 生产环境必须指定具体域名，例如:
#   CORS_ORIGINS=["https://www.coze.cn","https://coze.cn"]
CORS_ORIGINS=["*"]
